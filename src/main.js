var h=Object.create;var l=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var w=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of E(e))!b.call(t,o)&&o!==r&&l(t,o,{get:()=>e[o],enumerable:!(s=C(e,o))||s.enumerable});return t};var u=(t,e,r)=>(r=t!=null?h(O(t)):{},w(e||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r,t));var c=require("electron");var S=require("electron"),n=u(require("node:fs"),1),p=u(require("node:path"),1),a=LiteLoader.plugins.MESSAGE.path.data,i=p.default.join(a,"config.json"),y={otherColor:"#ffffff",otherFontColor:"#000000",myColor:"#0099FF",myFontColor:"#000000"};n.default.existsSync(a)||n.default.mkdirSync(a,{recursive:!0});if(!n.default.existsSync(i))n.default.writeFileSync(i,JSON.stringify(y,null,4));else{let t=n.default.readFileSync(i,"utf-8"),e=d(JSON.parse(t),y);n.default.writeFileSync(i,JSON.stringify(e,null,4),"utf-8")}function d(t,e){let r=Object.keys(t),s=Object.keys(e);for(let o of s)r.includes(o)?typeof t[o]=="object"&&typeof e[o]=="object"&&(t[o]=d(t[o],e[o])):t[o]=e[o];return t}function m(t){S.BrowserWindow.getAllWindows().forEach(e=>{e.webContents.send("LiteLoader.MESSAGE.upDateConfig",JSON.parse(t))}),t=JSON.stringify(typeof t=="string"?JSON.parse(t):t,null,4),n.default.writeFileSync(i,t,"utf-8")}function g(){let t=n.default.readFileSync(i,"utf-8");return JSON.parse(t)}function f(...t){console.log("\x1B[32m[MESSAGE]\x1B[0m",...t)}function F(){c.ipcMain.handle("LiteLoader.MESSAGE.getConfig",t=>{try{return g()}catch(e){return f(e),{}}}),c.ipcMain.on("LiteLoader.MESSAGE.saveConfig",(t,e)=>{try{m(e)}catch(r){f(r)}})}F();
